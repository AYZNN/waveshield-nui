const _0x4bfde4=_0x214c;(function(_0x6a7b2d,_0x481db1){const _0x40433b=_0x214c,_0x695a5a=_0x6a7b2d();while(!![]){try{const _0x49ec63=parseInt(_0x40433b(0x13a))/0x1*(parseInt(_0x40433b(0x128))/0x2)+parseInt(_0x40433b(0x120))/0x3*(-parseInt(_0x40433b(0x142))/0x4)+parseInt(_0x40433b(0x137))/0x5+-parseInt(_0x40433b(0xf6))/0x6+-parseInt(_0x40433b(0x11d))/0x7*(-parseInt(_0x40433b(0x139))/0x8)+parseInt(_0x40433b(0x132))/0x9*(parseInt(_0x40433b(0xfb))/0xa)+-parseInt(_0x40433b(0x10e))/0xb*(parseInt(_0x40433b(0x10f))/0xc);if(_0x49ec63===_0x481db1)break;else _0x695a5a['push'](_0x695a5a['shift']());}catch(_0x5cf90c){_0x695a5a['push'](_0x695a5a['shift']());}}}(_0x1f45,0x80817));const MAX_VIDEO_FPS=0x18;let videoQueue=[],bufferIndex=0x0,mediaRecorders=[],uploadEndpoint='',videoStream;const vertexShaderSrc=_0x4bfde4(0x103),fragmentShaderSrc=_0x4bfde4(0x13e);function makeShader(_0x2b0e92,_0x4e257e,_0x2e0da2){const _0x357d10=_0x4bfde4,_0x590798=_0x2b0e92[_0x357d10(0x122)](_0x4e257e);_0x2b0e92[_0x357d10(0x143)](_0x590798,_0x2e0da2),_0x2b0e92[_0x357d10(0x12a)](_0x590798);const _0x1bc74a=_0x2b0e92[_0x357d10(0x130)](_0x590798);return _0x1bc74a&&console[_0x357d10(0x138)](_0x1bc74a),_0x590798;}function createTexture(_0x439be5){const _0x292ef6=_0x4bfde4,_0x150626=_0x439be5[_0x292ef6(0xf8)](),_0x2b178b=new Uint8Array([0x0,0x0,0xff,0xff]);return _0x439be5['bindTexture'](_0x439be5[_0x292ef6(0x10d)],_0x150626),_0x439be5['texImage2D'](_0x439be5[_0x292ef6(0x10d)],0x0,_0x439be5['RGBA'],0x1,0x1,0x0,_0x439be5[_0x292ef6(0x147)],_0x439be5[_0x292ef6(0x13b)],_0x2b178b),_0x439be5[_0x292ef6(0x12f)](_0x439be5[_0x292ef6(0x10d)],_0x439be5[_0x292ef6(0x115)],_0x439be5[_0x292ef6(0x119)]),_0x439be5['texParameterf'](_0x439be5['TEXTURE_2D'],_0x439be5[_0x292ef6(0x109)],_0x439be5[_0x292ef6(0x119)]),_0x439be5[_0x292ef6(0x12f)](_0x439be5['TEXTURE_2D'],_0x439be5[_0x292ef6(0x105)],_0x439be5[_0x292ef6(0x12e)]),_0x439be5['texParameterf'](_0x439be5[_0x292ef6(0x10d)],_0x439be5[_0x292ef6(0x100)],_0x439be5[_0x292ef6(0x12e)]),_0x439be5[_0x292ef6(0x12f)](_0x439be5['TEXTURE_2D'],_0x439be5[_0x292ef6(0x100)],_0x439be5[_0x292ef6(0x148)]),_0x439be5[_0x292ef6(0x12f)](_0x439be5[_0x292ef6(0x10d)],_0x439be5[_0x292ef6(0x100)],_0x439be5[_0x292ef6(0x13c)]),_0x439be5['texParameterf'](_0x439be5[_0x292ef6(0x10d)],_0x439be5[_0x292ef6(0x100)],_0x439be5[_0x292ef6(0x12e)]),_0x150626;}function createBuffers(_0x374855){const _0x1503f9=_0x4bfde4,_0x32b499=_0x374855[_0x1503f9(0x104)]();_0x374855['bindBuffer'](_0x374855[_0x1503f9(0x10a)],_0x32b499),_0x374855[_0x1503f9(0x141)](_0x374855[_0x1503f9(0x10a)],new Float32Array([-0x1,-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1]),_0x374855['STATIC_DRAW']);const _0x568e3e=_0x374855[_0x1503f9(0x104)]();return _0x374855[_0x1503f9(0x145)](_0x374855['ARRAY_BUFFER'],_0x568e3e),_0x374855['bufferData'](_0x374855[_0x1503f9(0x10a)],new Float32Array([0x0,0x0,0x1,0x0,0x0,0x1,0x1,0x1]),_0x374855[_0x1503f9(0x11c)]),{'vertexBuff':_0x32b499,'texBuff':_0x568e3e};}function createProgram(_0x190f00){const _0x6b62ff=_0x4bfde4,_0x4f80a0=makeShader(_0x190f00,_0x190f00[_0x6b62ff(0x11b)],vertexShaderSrc),_0x4b65e2=makeShader(_0x190f00,_0x190f00['FRAGMENT_SHADER'],fragmentShaderSrc),_0x5529c3=_0x190f00[_0x6b62ff(0x10b)]();_0x190f00[_0x6b62ff(0xfe)](_0x5529c3,_0x4f80a0),_0x190f00[_0x6b62ff(0xfe)](_0x5529c3,_0x4b65e2),_0x190f00[_0x6b62ff(0xff)](_0x5529c3),_0x190f00['useProgram'](_0x5529c3);const _0x13372e=_0x190f00[_0x6b62ff(0x127)](_0x5529c3,_0x6b62ff(0x121)),_0x5f29a7=_0x190f00[_0x6b62ff(0x127)](_0x5529c3,_0x6b62ff(0x110));return{'program':_0x5529c3,'vloc':_0x13372e,'tloc':_0x5f29a7};}function createGameView(_0x1f04a1){const _0x3edd54=_0x4bfde4,_0x2e1296=_0x1f04a1['getContext'](_0x3edd54(0x112),{'antialias':![],'depth':![],'stencil':![],'alpha':![],'preserveDrawingBuffer':!![],'failIfMajorPerformanceCaveat':![]});let _0x42c6b5=()=>{};function _0x54597a(){const _0x4b128a=_0x3edd54,_0x1e475b=createTexture(_0x2e1296),{program:_0x351a39,vloc:_0x286db0,tloc:_0x2a5dec}=createProgram(_0x2e1296),{vertexBuff:_0x1daa4b,texBuff:_0x1d501b}=createBuffers(_0x2e1296);_0x2e1296[_0x4b128a(0x136)](_0x351a39),_0x2e1296['bindTexture'](_0x2e1296[_0x4b128a(0x10d)],_0x1e475b),_0x2e1296['uniform1i'](_0x2e1296['getUniformLocation'](_0x351a39,_0x4b128a(0xfd)),0x0),_0x2e1296[_0x4b128a(0x145)](_0x2e1296[_0x4b128a(0x10a)],_0x1daa4b),_0x2e1296[_0x4b128a(0x126)](_0x286db0,0x2,_0x2e1296[_0x4b128a(0x11a)],![],0x0,0x0),_0x2e1296[_0x4b128a(0xfa)](_0x286db0),_0x2e1296[_0x4b128a(0x145)](_0x2e1296[_0x4b128a(0x10a)],_0x1d501b),_0x2e1296[_0x4b128a(0x126)](_0x2a5dec,0x2,_0x2e1296[_0x4b128a(0x11a)],![],0x0,0x0),_0x2e1296[_0x4b128a(0xfa)](_0x2a5dec),_0x2e1296[_0x4b128a(0x102)](0x0,0x0,_0x2e1296[_0x4b128a(0x10c)][_0x4b128a(0x107)],_0x2e1296[_0x4b128a(0x10c)]['height']),_0x42c6b5();}const _0x316808={'canvas':_0x1f04a1,'gl':_0x2e1296,'animationFrame':void 0x0,'resize':(_0x1ec9ce,_0x1caaee)=>{const _0x52ce84=_0x3edd54;_0x2e1296[_0x52ce84(0x102)](0x0,0x0,_0x1ec9ce,_0x1caaee),_0x2e1296['canvas'][_0x52ce84(0x107)]=_0x1ec9ce,_0x2e1296[_0x52ce84(0x10c)]['height']=_0x1caaee;}};return _0x42c6b5=()=>{const _0x82cf4b=_0x3edd54;_0x2e1296[_0x82cf4b(0x12b)](_0x2e1296['TRIANGLE_STRIP'],0x0,0x4),_0x316808[_0x82cf4b(0x134)]=setTimeout(_0x42c6b5,33.3);},_0x54597a(),_0x316808;}function sleep(_0x49378c){return new Promise(_0x3c8e3b=>setTimeout(_0x3c8e3b,_0x49378c));}function uploadBlob(_0x2825ae){const _0x26d601=_0x4bfde4,_0x4ba9dd=new FormData();_0x4ba9dd[_0x26d601(0x124)](_0x26d601(0x140),_0x2825ae,_0x26d601(0x12c)),fetch(uploadEndpoint,{'method':_0x26d601(0x114),'body':_0x4ba9dd})[_0x26d601(0x11f)](_0x192dd2=>_0x192dd2['json']())[_0x26d601(0x11f)](_0x1efd65=>{const _0x184548=_0x26d601;fetch(_0x184548(0x146),{'method':_0x184548(0x114),'mode':_0x184548(0x106),'body':JSON[_0x184548(0x113)]({'videoUrl':_0x1efd65[_0x184548(0x125)][0x0][_0x184548(0x117)]})});})[_0x26d601(0x129)](_0x41c137=>console[_0x26d601(0x138)](_0x26d601(0x123),_0x41c137));}let saveNextCapture=![];function startRecording(){const _0x2e76ef=_0x4bfde4,_0x2e10b6=new MediaRecorder(videoStream,{'mimeType':'video/webm;codecs=h264','audioBitsPerSecond':0x0,'videoBitsPerSecond':0xb71b00});mediaRecorders[_0x2e76ef(0x144)](_0x2e10b6),_0x2e10b6[_0x2e76ef(0x13d)](0x1d4c),_0x2e10b6[_0x2e76ef(0x13f)]=_0x14e474=>{const _0x4add21=_0x2e76ef;_0x2e10b6&&_0x2e10b6[_0x4add21(0x108)]==='recording'&&(saveNextCapture===!![]&&(videoQueue=[],_0x14e474[_0x4add21(0xf7)][_0x4add21(0x135)]>0x0&&videoQueue[_0x4add21(0x144)](_0x14e474['data'])),_0x2e10b6['stop']());},_0x2e10b6[_0x2e76ef(0x111)]=async()=>{mediaRecorders['splice'](mediaRecorders['indexOf'](_0x2e10b6),0x1),bufferIndex++;};}async function stopAllRecordings(){const _0x112de8=_0x4bfde4,_0x25feb8=bufferIndex;saveNextCapture=!![];while(_0x25feb8===bufferIndex){await sleep(0xfa);}saveNextCapture=![],await sleep(0x32),mediaRecorders[_0x112de8(0x116)](_0x5b4ade=>{const _0x3c6b39=_0x112de8;_0x5b4ade&&_0x5b4ade[_0x3c6b39(0x108)]===_0x3c6b39(0xf9)&&_0x5b4ade['stop']();});const _0x289689=new Blob(videoQueue,{'type':'video/webm;codecs=h264'});videoQueue&&_0x289689[_0x112de8(0x135)]>0x0&&uploadBlob(_0x289689);}function _0x214c(_0x3df2eb,_0x385cfd){const _0x1f45c4=_0x1f45();return _0x214c=function(_0x214c47,_0xfd5d5b){_0x214c47=_0x214c47-0xf6;let _0x11ca5f=_0x1f45c4[_0x214c47];return _0x11ca5f;},_0x214c(_0x3df2eb,_0x385cfd);}function startNewRecordingEveryThreeSeconds(){const _0x1b2320=_0x4bfde4;mediaRecorders=[],videoQueue=[],bufferIndex=0x0;const _0x5a2a63=document['querySelector'](_0x1b2320(0x10c)),_0x54e1cf=createGameView(_0x5a2a63);videoStream=_0x5a2a63[_0x1b2320(0x131)](MAX_VIDEO_FPS),window[_0x1b2320(0x101)]=_0x54e1cf,setInterval(()=>{startRecording();},0x9c4);}function _0x1f45(){const _0x129fec=['createTexture','recording','enableVertexAttribArray','50PEtQze','message','external_texture','attachShader','linkProgram','TEXTURE_WRAP_T','gameView','viewport','\x0a\x20\x20attribute\x20vec2\x20a_position;\x0a\x20\x20attribute\x20vec2\x20a_texcoord;\x0a\x20\x20varying\x20vec2\x20textureCoordinate;\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(a_position,\x200.0,\x201.0);\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20a_texcoord;\x0a\x20\x20}\x0a','createBuffer','TEXTURE_WRAP_S','cors','width','state','TEXTURE_MIN_FILTER','ARRAY_BUFFER','createProgram','canvas','TEXTURE_2D','410729JPABFT','36uYFVFu','a_texcoord','onstop','webgl','stringify','POST','TEXTURE_MAG_FILTER','forEach','proxy_url','SEND_LAST_10_SECONDS','NEAREST','FLOAT','VERTEX_SHADER','STATIC_DRAW','7FGUXUm','addEventListener','then','63177hXgjQk','a_position','createShader','Failed\x20to\x20upload\x20video:','append','attachments','vertexAttribPointer','getAttribLocation','1782bUuXXn','catch','compileShader','drawArrays','game-capture.webm','SET_UPLOAD_WEBHOOK','CLAMP_TO_EDGE','texParameterf','getShaderInfoLog','captureStream','1304847jczszb','START_RECORDING','animationFrame','size','useProgram','3853040RHDdOt','error','441112FJoUWO','725uFykLX','UNSIGNED_BYTE','REPEAT','start','\x0a\x20\x20varying\x20mediump\x20vec2\x20textureCoordinate;\x0a\x20\x20uniform\x20sampler2D\x20external_texture;\x0a\x20\x20void\x20main()\x0a\x20\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(external_texture,\x20textureCoordinate);\x0a\x20\x20}\x0a','ondataavailable','files[]','bufferData','148TYsjHF','shaderSource','push','bindBuffer','https://WaveShield/saveVideoData','RGBA','MIRRORED_REPEAT','4674468Brfsuy','data'];_0x1f45=function(){return _0x129fec;};return _0x1f45();}window[_0x4bfde4(0x11e)](_0x4bfde4(0xfc),_0x5ba5dd=>{const _0x16eef5=_0x4bfde4,{command:_0x57151a,uploadWebhook:_0x40ac14}=_0x5ba5dd[_0x16eef5(0xf7)];switch(_0x57151a){case _0x16eef5(0x133):startNewRecordingEveryThreeSeconds();break;case _0x16eef5(0x118):stopAllRecordings();break;case _0x16eef5(0x12d):uploadEndpoint===''&&(uploadEndpoint=_0x40ac14);;break;default:}});
